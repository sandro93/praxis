#include "getline.h"

/*
  Exercise 1-18. Write a program to remove trailing blanks and tabs from
  each line of input, and to delete entirely blank lines.
*/
#define MAXLINE 200

int trim(char[]);

int main(int argc, char *argv[]){
  int len; /* current and max line lengths */
  char line[MAXLINE]; /* current line */
  while((len = readline(line, MAXLINE)) > 0){
    if(trim(line))
      printf("%s", line);
  }
  return 0;
}

int trim(char s[]){
  int i = 0;
  while(s[++i] != '\n')
    ;

  while(i >= 0 && (s[i] == ' ' || s[i] == '\t'))
    --i;
  if(i > 0){
    s[++i] = '\n';
    s[++i] = '\0';
  }
  return i;
}
